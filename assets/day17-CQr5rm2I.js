import{G as Y}from"./gcanvas.es-CMQjSjBY.js";const i={zoomSpeed:.3,baseSize:60,lineWidth:2,hueSpeed:15,saturation:100,lightness:50};class $ extends Y{constructor(t){super(t),this.backgroundColor="#000"}init(){super.init(),this.time=0,this.hue=120,this.mouseX=this.width/2,this.mouseY=this.height/2,this.targetOffsetX=0,this.targetOffsetY=0,this.offsetX=0,this.offsetY=0,this.canvas.addEventListener("mousemove",t=>{const e=this.canvas.getBoundingClientRect();this.mouseX=t.clientX-e.left,this.mouseY=t.clientY-e.top;const o=this.width/2,h=this.height/2;this.targetOffsetX=(this.mouseX-o)*.3,this.targetOffsetY=(this.mouseY-h)*.3}),this.canvas.addEventListener("mouseleave",()=>{this.targetOffsetX=0,this.targetOffsetY=0}),this.canvas.addEventListener("click",()=>{this.hue=(this.hue+60)%360})}update(t){super.update(t),this.time+=t,this.hue=(this.hue+i.hueSpeed*t)%360;const e=1-Math.pow(.05,t);this.offsetX+=(this.targetOffsetX-this.offsetX)*e,this.offsetY+=(this.targetOffsetY-this.offsetY)*e}render(){const t=this.ctx,e=this.width,o=this.height,h=e/2+this.offsetX,r=o/2+this.offsetY;t.fillStyle="#000",t.fillRect(0,0,e,o);const c=1/i.zoomSpeed,n=this.time%c/c,u=1+n,d=1-n,p=.5+n*.5,s=n;this.drawWallpaperGroup(t,h,r,p,s,1),this.drawWallpaperGroup(t,h,r,u,d,0)}drawWallpaperGroup(t,e,o,h,r,c){const n=i.baseSize*h,u=n,d=0,p=n*Math.cos(Math.PI/3),s=n*Math.sin(Math.PI/3),a=Math.max(this.width,this.height)*.8,l=Math.ceil(a/n)+2,f=c*30,g=(this.hue+f)%360;t.globalAlpha=r*.8;for(let m=-l;m<=l;m++)for(let M=-l;M<=l;M++){const P=e+m*u+M*p,v=o+m*d+M*s,w=P-e,X=v-o;w*w+X*X>a*a||this.drawHexagonalMotif(t,P,v,n*.4,g)}t.globalAlpha=1}drawHexagonalMotif(t,e,o,h,r){t.strokeStyle=`hsla(${r}, ${i.saturation}%, ${i.lightness}%, 0.8)`,t.lineWidth=i.lineWidth,t.beginPath();for(let s=0;s<6;s++){const a=s*Math.PI*2/6-Math.PI/2,l=e+Math.cos(a)*h,f=o+Math.sin(a)*h;s===0?t.moveTo(l,f):t.lineTo(l,f)}t.closePath(),t.stroke();const n=h*.5,u=(r+60)%360;t.strokeStyle=`hsla(${u}, ${i.saturation}%, ${i.lightness+10}%, 0.7)`,t.lineWidth=i.lineWidth*.7,t.beginPath();for(let s=0;s<6*2;s++){const a=s*Math.PI/6-Math.PI/2,l=s%2===0?n:n*.4,f=e+Math.cos(a)*l,g=o+Math.sin(a)*l;s===0?t.moveTo(f,g):t.lineTo(f,g)}t.closePath(),t.stroke();const d=(r+120)%360;t.strokeStyle=`hsla(${d}, ${i.saturation}%, ${i.lightness-10}%, 0.4)`,t.lineWidth=i.lineWidth*.5;for(let s=0;s<6;s++){const a=s*Math.PI*2/6-Math.PI/2;t.beginPath(),t.moveTo(e,o),t.lineTo(e+Math.cos(a)*h*1.2,o+Math.sin(a)*h*1.2),t.stroke()}const p=(r+180)%360;t.fillStyle=`hsla(${p}, ${i.saturation}%, ${i.lightness+20}%, 0.9)`,t.beginPath(),t.arc(e,o,h*.08,0,Math.PI*2),t.fill()}}function b(S){const t=new $(S);return t.start(),{stop:()=>t.stop(),game:t}}export{b as default};
