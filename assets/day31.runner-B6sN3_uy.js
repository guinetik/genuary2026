import{S as f}from"./index-DMqzgpv5.js";import{CONFIG as r}from"./day31.config-DDGTRykT.js";class w{constructor(e){this.game=e,this.sprite=null,this.loaded=!1}async load(){this.sprite=new f(this.game,{src:r.runnerSrc,frameWidth:r.runnerFrameWidth,frameHeight:r.runnerFrameHeight,columns:r.runnerColumns,rows:r.runnerRows,frameCount:r.runnerFrameCount,frameRate:r.runnerFrameRate,loop:!0,autoPlay:!0,smoothing:!1}),await this.sprite.load(),this.loaded=!0}update(e){this.sprite&&this.loaded&&this.sprite.update(e)}render(e,p,h){if(!this.sprite||!this.loaded)return;const s=this.sprite.currentShape;if(!s||!s._bitmap)return;const l=s._bitmap,o=r.runnerScale*(h/800),i=r.runnerFrameWidth*o,u=r.runnerFrameHeight*o,m=(p-i)/2+r.runnerOffsetX,d=h*r.runnerY-u;e.save(),e.imageSmoothingEnabled=!1;const t=Math.max(1,2*o);e.globalCompositeOperation="source-over",e.filter="brightness(0) saturate(100%) invert(48%) sepia(79%) saturate(500%) hue-rotate(86deg) brightness(118%)";for(let a=-t;a<=t;a+=t)for(let n=-t;n<=t;n+=t)a===0&&n===0||e.drawImage(l,m+a,d+n,i,u);e.filter="brightness(0.2) saturate(100%) sepia(100%) hue-rotate(80deg)",e.globalCompositeOperation="source-over",e.drawImage(l,m,d,i,u),e.filter="none",e.restore()}}export{w as Runner};
