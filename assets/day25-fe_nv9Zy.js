import{G as X,P as L,C as G,Q as I,z as A,t as D}from"./gcanvas.es-BF2N4r4i.js";const C=Math.PI*2,i={initialCount:20,maxMolecules:100,perspective:800,heatZone:.85,coolZone:.15,heatRate:.008,buoyancyStrength:200,gravity:80,neutralTemp:.5,baseSpeed:20,damping:.94,heatTransferDist:80,heatTransferRate:.02,reactionDistance:60,reactionCooldown:.5,baseReactionChance:.1,lightningInterval:4,lightningVariance:2,lightningEnergy:.4,lightningRadius:150,bgColor:"#050510",ventGlow:.4,bubbleCount:40,particleCount:60,causticSpeed:.3},z={PRIMORDIAL:0,PRECURSOR:1,AMINO_ACID:2,PEPTIDE:3},$={C:{radius:18,hue:30,sat:10,light:35,name:"Carbon"},H:{radius:10,hue:200,sat:5,light:90,name:"Hydrogen"},O:{radius:16,hue:0,sat:70,light:50,name:"Oxygen"},N:{radius:15,hue:220,sat:70,light:55,name:"Nitrogen"},S:{radius:20,hue:55,sat:75,light:50,name:"Sulfur"}},T={water:{name:"H₂O",label:"Water",tier:z.PRIMORDIAL,atoms:[{element:"O",x:0,y:0,z:0},{element:"H",x:-20,y:14,z:0},{element:"H",x:20,y:14,z:0}],bonds:[{from:0,to:1,order:1},{from:0,to:2,order:1}]},methane:{name:"CH₄",label:"Methane",tier:z.PRIMORDIAL,atoms:[{element:"C",x:0,y:0,z:0},{element:"H",x:20,y:20,z:20},{element:"H",x:-20,y:-20,z:20},{element:"H",x:-20,y:20,z:-20},{element:"H",x:20,y:-20,z:-20}],bonds:[{from:0,to:1,order:1},{from:0,to:2,order:1},{from:0,to:3,order:1},{from:0,to:4,order:1}]},ammonia:{name:"NH₃",label:"Ammonia",tier:z.PRIMORDIAL,atoms:[{element:"N",x:0,y:0,z:0},{element:"H",x:22,y:14,z:0},{element:"H",x:-11,y:14,z:19},{element:"H",x:-11,y:14,z:-19}],bonds:[{from:0,to:1,order:1},{from:0,to:2,order:1},{from:0,to:3,order:1}]},hydrogen:{name:"H₂",label:"Hydrogen",tier:z.PRIMORDIAL,atoms:[{element:"H",x:-12,y:0,z:0},{element:"H",x:12,y:0,z:0}],bonds:[{from:0,to:1,order:1}]},carbonDioxide:{name:"CO₂",label:"Carbon Dioxide",tier:z.PRIMORDIAL,atoms:[{element:"C",x:0,y:0,z:0},{element:"O",x:-28,y:0,z:0},{element:"O",x:28,y:0,z:0}],bonds:[{from:0,to:1,order:2},{from:0,to:2,order:2}]},hydrogenSulfide:{name:"H₂S",label:"Hydrogen Sulfide",tier:z.PRIMORDIAL,atoms:[{element:"S",x:0,y:0,z:0},{element:"H",x:-22,y:14,z:0},{element:"H",x:22,y:14,z:0}],bonds:[{from:0,to:1,order:1},{from:0,to:2,order:1}]},formaldehyde:{name:"CH₂O",label:"Formaldehyde",tier:z.PRECURSOR,atoms:[{element:"C",x:0,y:0,z:0},{element:"O",x:0,y:-24,z:0},{element:"H",x:-18,y:14,z:0},{element:"H",x:18,y:14,z:0}],bonds:[{from:0,to:1,order:2},{from:0,to:2,order:1},{from:0,to:3,order:1}]},hydrogenCyanide:{name:"HCN",label:"Hydrogen Cyanide",tier:z.PRECURSOR,atoms:[{element:"H",x:-30,y:0,z:0},{element:"C",x:0,y:0,z:0},{element:"N",x:26,y:0,z:0}],bonds:[{from:0,to:1,order:1},{from:1,to:2,order:3}]},glycine:{name:"Glycine",label:"Glycine",tier:z.AMINO_ACID,atoms:[{element:"N",x:-35,y:0,z:0},{element:"C",x:-5,y:0,z:0},{element:"C",x:30,y:0,z:0},{element:"O",x:45,y:-20,z:0},{element:"O",x:45,y:20,z:0},{element:"H",x:-50,y:-12,z:0},{element:"H",x:-50,y:12,z:0},{element:"H",x:-5,y:20,z:12},{element:"H",x:-5,y:20,z:-12}],bonds:[{from:0,to:1,order:1},{from:1,to:2,order:1},{from:2,to:3,order:2},{from:2,to:4,order:1},{from:0,to:5,order:1},{from:0,to:6,order:1},{from:1,to:7,order:1},{from:1,to:8,order:1}]},alanine:{name:"Alanine",label:"Alanine",tier:z.AMINO_ACID,atoms:[{element:"N",x:-40,y:0,z:0},{element:"C",x:-10,y:0,z:0},{element:"C",x:25,y:0,z:0},{element:"O",x:40,y:-20,z:0},{element:"O",x:40,y:20,z:0},{element:"C",x:-10,y:30,z:0},{element:"H",x:-55,y:-10,z:0},{element:"H",x:-55,y:10,z:0}],bonds:[{from:0,to:1,order:1},{from:1,to:2,order:1},{from:2,to:3,order:2},{from:2,to:4,order:1},{from:1,to:5,order:1},{from:0,to:6,order:1},{from:0,to:7,order:1}]},diglycine:{name:"Gly-Gly",label:"Peptide",tier:z.PEPTIDE,atoms:[{element:"N",x:-60,y:0,z:0},{element:"C",x:-35,y:0,z:0},{element:"C",x:-10,y:0,z:0},{element:"O",x:-10,y:-22,z:0},{element:"N",x:15,y:0,z:0},{element:"C",x:40,y:0,z:0},{element:"C",x:65,y:0,z:0},{element:"O",x:80,y:-18,z:0},{element:"O",x:80,y:18,z:0}],bonds:[{from:0,to:1,order:1},{from:1,to:2,order:1},{from:2,to:3,order:2},{from:2,to:4,order:1},{from:4,to:5,order:1},{from:5,to:6,order:1},{from:6,to:7,order:2},{from:6,to:8,order:1}]}},P=["water","methane","ammonia","hydrogen","carbonDioxide","hydrogenSulfide"],Z=[{reactants:["methane","water"],products:["formaldehyde","hydrogen"],minTemp:.5,energy:.15},{reactants:["ammonia","methane"],products:["hydrogenCyanide","hydrogen","hydrogen"],minTemp:.6,energy:.2},{reactants:["carbonDioxide","hydrogen"],products:["formaldehyde"],minTemp:.55,energy:.15},{reactants:["formaldehyde","hydrogenCyanide"],products:["glycine"],minTemp:.65,energy:.25},{reactants:["formaldehyde","ammonia"],products:["glycine","water"],minTemp:.7,energy:.3},{reactants:["hydrogenCyanide","ammonia"],products:["alanine"],minTemp:.7,energy:.3},{reactants:["glycine","glycine"],products:["diglycine","water"],minTemp:.75,energy:.4},{reactants:["glycine","alanine"],products:["diglycine","water"],minTemp:.75,energy:.4}];class O{constructor(t,o,e,n){this.x=t,this.y=o,this.z=e,this.vx=(Math.random()-.5)*i.baseSpeed,this.vy=(Math.random()-.5)*i.baseSpeed,this.vz=(Math.random()-.5)*i.baseSpeed,this.templateKey=n,this.template=T[n],this.name=this.template.name,this.label=this.template.label,this.tier=this.template.tier,this.temperature=.5,this.reactionCooldown=0,this.flash=0,this.atoms=this.template.atoms.map(a=>({element:a.element,localX:a.x,localY:a.y,localZ:a.z,screenX:0,screenY:0,screenScale:1,worldZ:0})),this.bonds=this.template.bonds;let s=0;for(const a of this.atoms){const c=Math.sqrt(a.localX**2+a.localY**2+a.localZ**2);s=Math.max(s,c+$[a.element].radius)}this.boundingRadius=s,this.rotX=Math.random()*C,this.rotY=Math.random()*C,this.rotZ=Math.random()*C,this.rotSpeedX=(Math.random()-.5)*.5,this.rotSpeedY=(Math.random()-.5)*.5,this.rotSpeedZ=(Math.random()-.5)*.2,this.currentPhase=Math.random()*C,this.currentSpeed=.3+Math.random()*.4}update(t,o){this.temperature=A(o,this.temperature,{heatZone:i.heatZone,coolZone:i.coolZone,rate:i.heatRate});const e=D(this.temperature,i.neutralTemp,i.buoyancyStrength);this.vy-=e*t;const n=1-this.temperature;this.vy+=i.gravity*n*t,this.currentPhase+=this.currentSpeed*t;const s=12+Math.sin(this.y*.008)*6;this.vx+=Math.sin(this.currentPhase)*s*t,this.vx*=i.damping,this.vy*=i.damping,this.vz*=i.damping,this.x+=this.vx*t,this.y+=this.vy*t,this.z+=this.vz*t;const a=.5+this.temperature*.5;this.rotX+=this.rotSpeedX*a*t,this.rotY+=this.rotSpeedY*a*t,this.rotZ+=this.rotSpeedZ*a*t,this.reactionCooldown>0&&(this.reactionCooldown-=t),this.flash>0&&(this.flash-=t*2)}project(t,o,e){const n=Math.cos(this.rotX),s=Math.sin(this.rotX),a=Math.cos(this.rotY),c=Math.sin(this.rotY),f=Math.cos(this.rotZ),m=Math.sin(this.rotZ);for(const y of this.atoms){let d=y.localX,h=y.localY,p=y.localZ,u=h*n-p*s,M=h*s+p*n;h=u,p=M;let r=d*a+p*c;M=-d*c+p*a,d=r,p=M,r=d*f-h*m,u=d*m+h*f,d=r,h=u;const l=this.x+d,x=this.y+h,g=this.z+p,S=t.project(l,x,g);y.screenX=o+S.x,y.screenY=e+S.y,y.screenScale=S.scale,y.worldZ=S.z}}render(t,o,e,n){this.project(o,e,n);const s=this.atoms.map((a,c)=>({z:a.worldZ,i:c})).sort((a,c)=>a.z-c.z).map(a=>a.i);this.renderBonds(t);for(const a of s)this.renderAtom(t,this.atoms[a])}renderBonds(t){for(const o of this.bonds){const e=this.atoms[o.from],n=this.atoms[o.to];if(e.screenScale<=0||n.screenScale<=0)continue;const s=(e.screenScale+n.screenScale)/2,a=(e.worldZ+n.worldZ)/2,c=Math.max(-10,Math.min(10,a/40)),f=200-this.temperature*180,m=45+c;if(t.strokeStyle=`hsl(${f}, 35%, ${m}%)`,t.lineWidth=3*s,t.lineCap="round",o.order===1)t.beginPath(),t.moveTo(e.screenX,e.screenY),t.lineTo(n.screenX,n.screenY),t.stroke();else if(o.order>=2){const y=n.screenX-e.screenX,d=n.screenY-e.screenY,h=Math.sqrt(y*y+d*d)||1,p=4*s,u=-d/h*p,M=y/h*p;t.lineWidth=2*s;for(let r=0;r<o.order;r++){const l=r-(o.order-1)/2;t.beginPath(),t.moveTo(e.screenX+u*l,e.screenY+M*l),t.lineTo(n.screenX+u*l,n.screenY+M*l),t.stroke()}}}}renderAtom(t,o){if(o.screenScale<=0)return;const e=$[o.element],n=e.radius*o.screenScale,s=Math.max(-15,Math.min(10,o.worldZ/30)),a=(this.temperature-.5)*40,c=e.hue+a,f=e.sat+this.temperature*20,m=e.light+s;if(this.flash>0){const d=n*(2+this.flash),h=t.createRadialGradient(o.screenX,o.screenY,0,o.screenX,o.screenY,d);h.addColorStop(0,`rgba(255, 255, 200, ${this.flash*.9})`),h.addColorStop(.4,`rgba(255, 180, 80, ${this.flash*.5})`),h.addColorStop(1,"transparent"),t.fillStyle=h,t.beginPath(),t.arc(o.screenX,o.screenY,d,0,C),t.fill()}const y=t.createRadialGradient(o.screenX-n*.3,o.screenY-n*.3,0,o.screenX,o.screenY,n);y.addColorStop(0,`hsl(${c}, ${f*.3}%, ${Math.min(m+35,95)}%)`),y.addColorStop(.4,`hsl(${c}, ${f}%, ${m}%)`),y.addColorStop(1,`hsl(${c}, ${f+10}%, ${Math.max(m-20,10)}%)`),t.fillStyle=y,t.beginPath(),t.arc(o.screenX,o.screenY,n,0,C),t.fill()}}class j extends X{constructor(t){super(t),this.backgroundColor=i.bgColor}init(){super.init(),L.init(this.ctx),this.camera=new G({perspective:i.perspective,rotationX:.2,rotationY:0,inertia:!0,friction:.95,clampX:!1,clampY:!1}),this.camera.enableMouseControl(this.canvas),this.canvas.removeEventListener("dblclick",this.camera._boundHandlers.dblclick),this.molecules=[],this.reactionLog=[],this.totalTime=0,this.nextLightning=i.lightningInterval,this.stats={reactions:0,maxTier:0},this.worldWidth=this.width*.8,this.worldHeight=this.height*.9,this.bubbles=[];for(let o=0;o<i.bubbleCount;o++)this.bubbles.push(this.createBubble(!0));this.particles=[];for(let o=0;o<i.particleCount;o++)this.particles.push(this.createParticle());for(let o=0;o<i.initialCount;o++)this.spawnMolecule(!0);let t=null;this.canvas.addEventListener("mousedown",o=>{t={x:o.clientX,y:o.clientY}}),this.canvas.addEventListener("mouseup",o=>{if(t){const x=o.clientX-t.x,g=o.clientY-t.y;if(Math.abs(x)>5||Math.abs(g)>5){t=null;return}}t=null;const e=this.canvas.getBoundingClientRect(),n=o.clientX-e.left-this.width/2,s=o.clientY-e.top-this.height/2,a=Math.cos(-this.camera.rotationX),c=Math.sin(-this.camera.rotationX),f=Math.cos(-this.camera.rotationY),m=Math.sin(-this.camera.rotationY);let y=n,d=s,h=(Math.random()-.5)*100;const p=y*f-h*m,u=y*m+h*f;y=p,h=u;const M=d*a-h*c,r=d*c+h*a;d=M,h=r;const l=this.spawnMolecule(!0,y,d,h,void 0,!0);l&&(this.reactionLog.unshift({text:`+ ${l.label} (${l.name})`,time:2}),this.reactionLog.length>5&&this.reactionLog.pop())})}createBubble(t=!1){const o=this.width*.3;return{x:this.width/2+(Math.random()-.5)*o,y:t?Math.random()*this.height:this.height+Math.random()*50,size:2+Math.random()*6,speed:30+Math.random()*50,wobblePhase:Math.random()*C,wobbleSpeed:1+Math.random()*2,alpha:.1+Math.random()*.3}}createParticle(){return{x:Math.random()*this.width,y:Math.random()*this.height,z:(Math.random()-.5)*400,size:1+Math.random()*2,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*5,alpha:.05+Math.random()*.15,hue:Math.random()<.3?30:200}}spawnMolecule(t=!1,o,e,n,s,a=!1){if(!a&&this.molecules.length>=i.maxMolecules)return null;const c=s||(t?P[Math.floor(Math.random()*P.length)]:Object.keys(T)[Math.floor(Math.random()*Object.keys(T).length)]),f=o??(Math.random()-.5)*this.worldWidth,m=e??(Math.random()-.5)*this.worldHeight,y=n??(Math.random()-.5)*200,d=new O(f,m,y,c);return this.molecules.push(d),d}lightning(){const t=(Math.random()-.5)*this.worldWidth,o=(Math.random()-.5)*this.worldHeight*.5,e=(Math.random()-.5)*150;for(const n of this.molecules){const s=n.x-t,a=n.y-o,c=n.z-e,f=Math.sqrt(s*s+a*a+c*c);if(f<i.lightningRadius){const m=1-f/i.lightningRadius;n.temperature=Math.min(1,n.temperature+i.lightningEnergy*m),n.flash=Math.max(n.flash,m*.5)}}this.lightningFlash={x:t,y:o,z:e,intensity:1}}checkReactions(){const t=new Set,o=[];for(let e=0;e<this.molecules.length;e++){const n=this.molecules[e];if(!(n.reactionCooldown>0||t.has(e)))for(let s=e+1;s<this.molecules.length;s++){const a=this.molecules[s];if(a.reactionCooldown>0||t.has(s))continue;const c=a.x-n.x,f=a.y-n.y,m=a.z-n.z;if(Math.sqrt(c*c+f*f+m*m)>i.reactionDistance)continue;const d=(n.temperature+a.temperature)/2;for(const h of Z){const[p,u]=h.reactants;if(!(n.templateKey===p&&a.templateKey===u||n.templateKey===u&&a.templateKey===p))continue;const r=i.baseReactionChance*(d/h.minTemp);if(d<h.minTemp*.8||Math.random()>r)continue;t.add(e),t.add(s);const l=(n.x+a.x)/2,x=(n.y+a.y)/2,g=(n.z+a.z)/2;for(const b of h.products){if(!T[b])continue;const w=(Math.random()-.5)*20,v=new O(l+w,x+w,g+w,b);v.temperature=d,v.flash=h.energy,v.reactionCooldown=i.reactionCooldown,v.vx=(n.vx+a.vx)/2+(Math.random()-.5)*15,v.vy=(n.vy+a.vy)/2+(Math.random()-.5)*15,v.vz=(n.vz+a.vz)/2+(Math.random()-.5)*15,o.push(v),this.stats.maxTier=Math.max(this.stats.maxTier,v.tier)}this.stats.reactions++;const S=b=>`${b.label} (${b.name})`,H=[S(n),S(a)].join(" + "),R=h.products.map(b=>{const w=T[b];return w?`${w.label} (${w.name})`:b}).join(" + ");this.reactionLog.unshift({text:`${H} → ${R}`,time:4}),this.reactionLog.length>5&&this.reactionLog.pop();break}}}this.molecules=this.molecules.filter((e,n)=>!t.has(n));for(const e of o)this.molecules.push(e)}heatTransfer(){for(let t=0;t<this.molecules.length;t++){const o=this.molecules[t];for(let e=t+1;e<this.molecules.length;e++){const n=this.molecules[e],s=n.x-o.x,a=n.y-o.y,c=n.z-o.z,f=Math.sqrt(s*s+a*a+c*c);if(f<i.heatTransferDist){const m=I(o.temperature,n.temperature,f,i.heatTransferDist,i.heatTransferRate,1);o.temperature=Math.max(0,Math.min(1,o.temperature+m)),n.temperature=Math.max(0,Math.min(1,n.temperature-m))}}}}update(t){super.update(t),this.camera.update(t),this.totalTime+=t,this.nextLightning-=t,this.nextLightning<=0&&(this.lightning(),this.nextLightning=i.lightningInterval+(Math.random()-.5)*i.lightningVariance*2),this.lightningFlash&&(this.lightningFlash.intensity-=t*3,this.lightningFlash.intensity<=0&&(this.lightningFlash=null));for(const e of this.bubbles)e.y-=e.speed*t,e.wobblePhase+=e.wobbleSpeed*t,e.x+=Math.sin(e.wobblePhase)*.5,e.y<-20&&Object.assign(e,this.createBubble(!1));for(const e of this.particles)e.x+=e.vx*t,e.y+=e.vy*t,e.vx+=(Math.sin(this.totalTime*.5+e.y*.01)*2-e.vx*.1)*t,e.vy+=(Math.cos(this.totalTime*.3+e.x*.01)*1-e.vy*.1)*t,e.x<0&&(e.x=this.width),e.x>this.width&&(e.x=0),e.y<0&&(e.y=this.height),e.y>this.height&&(e.y=0);const o=this.worldHeight/2;for(const e of this.molecules){const n=(e.y+o)/this.worldHeight;e.update(t,Math.max(0,Math.min(1,n)));const s=50;e.x<-this.worldWidth/2-s&&(e.vx+=50*t),e.x>this.worldWidth/2+s&&(e.vx-=50*t),e.y<-this.worldHeight/2-s&&(e.vy+=50*t),e.y>this.worldHeight/2+s&&(e.vy-=50*t),e.z<-200&&(e.vz+=30*t),e.z>200&&(e.vz-=30*t)}this.heatTransfer(),this.checkReactions();for(const e of this.reactionLog)e.time-=t;this.reactionLog=this.reactionLog.filter(e=>e.time>0)}render(){const t=this.ctx,o=this.width,e=this.height,n=o/2,s=e/2,a=t.createLinearGradient(0,0,0,e);a.addColorStop(0,"#030612"),a.addColorStop(.5,"#050510"),a.addColorStop(.8,"#0a0508"),a.addColorStop(1,"#1a0505"),t.fillStyle=a,t.fillRect(0,0,o,e),t.globalAlpha=.03;const c=120,f=this.totalTime*i.causticSpeed;for(let r=0;r<5;r++){const l=r*1.3+f,x=o*.3+Math.sin(l)*o*.2,g=e*.2+Math.cos(l*.7)*e*.1,S=o*.7+Math.sin(l*.8+2)*o*.2,H=e*.3+Math.cos(l*.5+1)*e*.1,R=t.createRadialGradient(x,g,0,x,g,c);R.addColorStop(0,"rgba(100, 180, 255, 1)"),R.addColorStop(1,"transparent"),t.fillStyle=R,t.fillRect(0,0,o,e);const b=t.createRadialGradient(S,H,0,S,H,c*.8);b.addColorStop(0,"rgba(150, 200, 255, 1)"),b.addColorStop(1,"transparent"),t.fillStyle=b,t.fillRect(0,0,o,e)}t.globalAlpha=1;const m=t.createRadialGradient(n,e+50,0,n,e+50,e*.7);m.addColorStop(0,`rgba(255, 100, 30, ${i.ventGlow})`),m.addColorStop(.3,`rgba(255, 60, 10, ${i.ventGlow*.5})`),m.addColorStop(.6,`rgba(200, 30, 5, ${i.ventGlow*.2})`),m.addColorStop(1,"transparent"),t.fillStyle=m,t.fillRect(0,0,o,e);const y=t.createRadialGradient(n-o*.2,e+30,0,n-o*.2,e+30,e*.3);y.addColorStop(0,`rgba(255, 80, 20, ${i.ventGlow*.4})`),y.addColorStop(1,"transparent"),t.fillStyle=y,t.fillRect(0,0,o,e);const d=t.createRadialGradient(n+o*.25,e+40,0,n+o*.25,e+40,e*.35);d.addColorStop(0,`rgba(255, 60, 10, ${i.ventGlow*.3})`),d.addColorStop(1,"transparent"),t.fillStyle=d,t.fillRect(0,0,o,e);for(const r of this.particles){const l=.5+(r.z+200)/400*.5;t.fillStyle=`hsla(${r.hue}, 30%, 60%, ${r.alpha*l})`,t.beginPath(),t.arc(r.x,r.y,r.size*l,0,C),t.fill()}if(this.lightningFlash){const r=this.camera.project(this.lightningFlash.x,this.lightningFlash.y,this.lightningFlash.z),l=n+r.x,x=s+r.y,g=t.createRadialGradient(l,x,0,l,x,250);g.addColorStop(0,`rgba(220, 240, 255, ${this.lightningFlash.intensity*.9})`),g.addColorStop(.2,`rgba(180, 210, 255, ${this.lightningFlash.intensity*.5})`),g.addColorStop(.5,`rgba(100, 150, 255, ${this.lightningFlash.intensity*.2})`),g.addColorStop(1,"transparent"),t.fillStyle=g,t.fillRect(0,0,o,e)}const h=[...this.molecules].sort((r,l)=>{const x=this.camera.project(r.x,r.y,r.z),g=this.camera.project(l.x,l.y,l.z);return x.z-g.z});for(const r of h)r.render(t,this.camera,n,s);for(const r of this.bubbles){const l=t.createRadialGradient(r.x-r.size*.3,r.y-r.size*.3,0,r.x,r.y,r.size);l.addColorStop(0,`rgba(255, 255, 255, ${r.alpha*.8})`),l.addColorStop(.5,`rgba(200, 220, 255, ${r.alpha*.3})`),l.addColorStop(1,`rgba(150, 180, 220, ${r.alpha*.1})`),t.fillStyle=l,t.beginPath(),t.arc(r.x,r.y,r.size,0,C),t.fill(),t.fillStyle=`rgba(255, 255, 255, ${r.alpha*.6})`,t.beginPath(),t.arc(r.x-r.size*.3,r.y-r.size*.3,r.size*.25,0,C),t.fill()}const p=t.createRadialGradient(n,s,Math.min(o,e)*.3,n,s,Math.max(o,e)*.8);p.addColorStop(0,"transparent"),p.addColorStop(1,"rgba(0, 5, 15, 0.6)"),t.fillStyle=p,t.fillRect(0,0,o,e),t.font='11px "Fira Code", monospace',t.textAlign="left";let u=25;for(const r of this.reactionLog){const l=Math.min(1,r.time);t.fillStyle=`rgba(255, 200, 100, ${l*.9})`,t.fillText(r.text,15,u),u+=18}t.fillStyle="rgba(150, 180, 200, 0.6)",t.textAlign="right",t.fillText(`Molecules: ${this.molecules.length}`,o-15,25),t.fillText(`Reactions: ${this.stats.reactions}`,o-15,43);const M=["Primordial","Precursors","Amino Acids","Peptides"];t.fillText(`Max tier: ${M[this.stats.maxTier]||"???"}`,o-15,61),t.textAlign="center",t.fillStyle="rgba(150, 150, 150, 0.4)",t.fillText("Click to add molecules. Drag to orbit. Watch complexity emerge.",n,e-15)}}function F(Y){const t=new j(Y);return t.start(),{stop:()=>t.stop(),game:t}}export{F as default};
